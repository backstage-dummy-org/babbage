<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie8 lt-ie7" {{> partials/subdomain-lang }}><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie8 ie7"  {{> partials/subdomain-lang }}><![endif]-->
<!--[if IE 8]><html class="ie8" {{> partials/subdomain-lang }}><![endif]-->
<!--[if gt IE 8]><!--><!-->
<html {{> partials/subdomain-lang }}>
	<!--<![endif]-->
	<head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <title>{{> partials/page-title }} - Office for National Statistics</title>
        <meta charset="utf-8" />
        <meta content="width=device-width,initial-scale=1.0,user-scalable=1" name="viewport">
        <meta content="on" http-equiv="cleartype" />
        <meta name="format-detection" content="telephone=no">
        <meta name="theme-color" content="#58595B">
        <meta name="apple-mobile-web-app-status-bar-style" content="#58595B">

		<!--[if IE]><![endif]-->
		<!--[if lte IE 8]>
		<link rel="stylesheet" href="{{#if is_dev}}http://{{location.hostname}}:9000/dist{{else}}//cdn.ons.gov.uk/sixteens/81674c0{{/if}}/css/old-ie.css"/>
		<![endif]-->
        <!--[if IE 9]>
              <link rel="stylesheet" type="text/css" href="{{#if is_dev}}http://{{location.hostname}}:9000/dist{{else}}//cdn.ons.gov.uk/sixteens/81674c0{{/if}}/css/ie-9.css">
        <![endif]-->
		<!--[if gt IE 9]><!-->
        <link rel="stylesheet" type="text/css" href="{{#if is_dev}}http://{{location.hostname}}:9000/dist{{else}}//cdn.ons.gov.uk/sixteens/81674c0{{/if}}/css/main.css">
		{{#if pdf_style}}<link rel="stylesheet" type="text/css" href="{{#if is_dev}}http://localhost:9000/dist{{else}}//cdn.ons.gov.uk/sixteens/81674c0{{/if}}/css/pdf.css">{{/if}}
        <![endif]-->
	</head>
	<body class="{{type}}">

        {{!-- Sends a message out of window - for Florance preview use, so that she can see when the preview window is loading (rather than looking for the iframe onload event which is only fired after all JS has loaded) --}}
        {{#if is_publishing}}
             <script>
                 window.onunload = function(){
                     top.postMessage('load', '*');
                 }
             </script>
        {{/if}}
		{{#if is_dev}}
			<script>
				document.secureCookies = false;
			</script>
		{{/if}}

		{{!-- Main handlebars is the main file rendered by handlebars.
		performs type check on content type and decides which template to render  --}}

		{{!-- Content --}}
		{{#if_eq type "home_page"}} 						{{> content/t1}}
		{{else if_eq type "home_page_census"}} 				{{> content/t1-2}}
		{{else if_eq type "taxonomy_landing_page"}} 		{{> content/t2}}
		{{else if_eq type "product_page"}}
			{{#if_eq parameters.test.0 "B"}} 				{{> content/t3-new}}
			{{else}} 						 				{{> content/t3}}
			{{/if_eq}}
		{{else if_eq type "bulletin"}} 						{{> content/t4-1}}
		{{else if_eq type "article"}} 						{{> content/t4-2}}
        {{else if_eq type "article_download"}} 				{{> content/t4-2}}
		{{else if_eq type "timeseries"}}
			{{#if previous}} 								{{> content/t12-2}}
			{{else}}
															{{> content/t5-1}}
			{{/if}}
		{{else if_eq type "compendium_landing_page"}} 		{{> content/t6-1}}
		{{else if_eq type "compendium_chapter"}} 			{{> content/t6-2}}
		{{else if_eq type "compendium_data"}} 				{{> content/t6-3}}
		{{else if_eq type "reference_tables"}} 				{{> content/t8-1}}
		{{else if_eq type "dataset_landing_page"}} 			{{> content/t8-3}}
		{{else if_eq type "dataset"}} 						{{> content/t12}}
		{{else if_eq type "timeseries_dataset"}} 			{{> content/t12}}
		{{else if_eq type "static_landing_page"}} 			{{> content/t7-4-1}}
		{{else if_eq type "static_page"}} 					{{> content/t7-5}}
		{{else if_eq type "static_article"}} 				{{> content/t7-6}}
		{{else if_eq type "static_methodology"}} 			{{> content/t7-6}}
        {{else if_eq type "static_methodology_download"}} 	{{> content/t7-6}}
		{{else if_eq type "static_qmi"}} 					{{> content/t7-1}}
		{{else if_eq type "static_adhoc"}} 					{{> content/t7-2}}
		{{else if_eq type "static_foi"}} 					{{> content/t7-3}}
		{{else if_eq type "release"}} 						{{> content/t16}}
		{{!-- Charts and tables and images--}}
		{{else if_eq type "chart"}} 						{{> highcharts/chart}}
		{{else if_eq type "table"}} 						{{> table}}
		{{else if_eq type "equation"}} 						{{> partials/equation}}

		{{!-- List Pages --}}
		{{else if_eq type "list"}}
			{{#if_eq listType "alladhocs"}} 						{{> list/t9-12}}
				{{else if_eq listType "allmethodologies"}} 			{{> list/t9-11}}
				{{else if_eq listType "atoz"}} 						{{> list/t9-14}}
				{{else if_eq listType "staticlist"}} 				{{> list/t9-13}}
				{{else if_eq listType "publishedrequests"}} 		{{> list/t9-2}}
				{{else if_eq listType "previousreleases"}} 			{{> list/t9-6}}
				{{else if_eq listType "topicspecificmethodology"}} 	{{> list/t9-7}}
				{{else if_eq listType "publications"}} 				{{> list/t9-8}}
				{{else if_eq listType "datalist"}} 					{{> list/t9-9}}
				{{else if_eq listType "search"}} 					{{> list/t10}}
				{{else if_eq listType "searchdata"}} 				{{> list/t10-2}}
				{{else if_eq listType "searchpublication"}} 		{{> list/t10-3}}
				{{else if_eq listType "relateddata"}} 				{{> list/t9-16}}
				{{else if_eq listType "releasecalendar"}} 			{{> list/t11}}
				{{else if_eq listType "timeseriestool"}} 			{{> list/t13}}
			{{/if_eq}}

		{{!-- Error pages --}}
		{{else if_eq type "error"}}
			{{#if_eq code 404}}{{> error/404}}
				{{else if_eq code 401}}{{> error/401}}
				{{else if_eq code 500}}{{> error/500}}
                {{else if_eq code 501}}{{> error/501}}
			{{/if_eq}}
		{{/if_eq}}


        <!--[if gt IE 8]><!-->
        <script type="text/javascript" src="{{#if is_dev}}//{{location.hostname}}:9000/dist{{else}}//cdn.ons.gov.uk/sixteens/81674c0{{/if}}/js/main.js"></script>
        <script type="text/javascript" src="/js/app.js"></script>

        {{!-- Add extra highcharts source files if page contains any charts --}}
        {{#if charts.0}}
            <script type="text/javascript" src="/js/third-party/highcharts-annotations-5.0.7.js"></script>
            <script type="text/javascript" src="/js/third-party/highcharts-broken-axis-5.0.7.js"></script>
            <script type="text/javascript" src="/js/third-party/highcharts-heatmap-5.0.7.js"></script>
            <script type="text/javascript" src="/js/third-party/highcharts-exporting-5.0.7.js"></script>
        {{/if}}

        <![endif]-->
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-56892037-3', {'allowAnchor': true});
            (function () {
                var pageType = '{{type}}';
                if (pageType == 'home_page' ||
                    pageType == 'taxonomy_landing_page' ||
                    pageType == 'static_landing_page' ||
                    pageType == 'list') {
                        ga('set', 'contentGroup1', 'Navigation');
                }
            })();
            ga('send', 'pageview', {'page': location.pathname + getSearch() + location.hash});
            function getSearch(){
                if(location.pathname === '/search'){
                    var numberOfResults = {{#if result.numberOfResults}} {{result.numberOfResults}} {{else}} 0 {{/if}};
                    return location.search + '&numberOfResults=' + numberOfResults;
                } else {
                    return location.search;
                }
            }

            // Measure time on page - credit to http://help.analyticsedge.com/googleanalytics/measuring-time-on-bounce-page/
            function timer11(){ga('send', 'event', 'TimeOnPage', '1', '11-30 seconds', { 'nonInteraction': 1 });}
            function timer31(){ga('send', 'event', 'TimeOnPage', '2', '31-60 seconds', { 'nonInteraction': 1 });}
            function timer61(){ga('send', 'event', 'TimeOnPage', '3', '61-180 seconds', { 'nonInteraction': 1 });}
            function timer181(){ga('send', 'event', 'TimeOnPage', '4', '181-600 seconds', { 'nonInteraction': 1 });}
            function timer601(){ga('send', 'event', 'TimeOnPage', '5', '601-1800 seconds', { 'nonInteraction': 1 });}
            function timer1801(){ga('send', 'event', 'TimeOnPage', '6', '1801+ seconds', { 'nonInteraction': 1 });}
            ga('send', 'event', 'TimeOnPage', '0', '0-10 seconds', { 'nonInteraction': 1 });
            setTimeout(timer11,11000);
            setTimeout(timer31,31000);
            setTimeout(timer61,61000);
            setTimeout(timer181,181000);
            setTimeout(timer601,601000);
            setTimeout(timer1801,1801000);
        </script>
	</body>
</html>